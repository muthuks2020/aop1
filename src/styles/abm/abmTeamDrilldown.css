/**
 * ABM Team Drilldown Styles — 'abm-dd-' prefix
 * Hierarchical TBM → Sales Rep view
 * @version 1.0.0
 */
.abm-dd-container { background: #fff; border-radius: 16px; border: 1px solid #E5E7EB; box-shadow: 0 4px 24px rgba(0,0,0,0.08); overflow: hidden; }
.abm-dd-loading { text-align: center; padding: 3rem; color: #6B7280; }

/* Header */
.abm-dd-header { background: linear-gradient(135deg, #312E81, #4F46E5 60%, #6366F1); padding: 1.25rem 1.5rem; color: #fff; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
.abm-dd-header-left { display: flex; align-items: center; gap: 0.875rem; }
.abm-dd-icon { width: 44px; height: 44px; background: rgba(255,255,255,0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; }
.abm-dd-header h2 { font-size: 1.125rem; font-weight: 700; margin: 0; }
.abm-dd-subtitle { font-size: 0.8125rem; opacity: 0.8; }
.abm-dd-actions { display: flex; gap: 0.5rem; }
.abm-dd-btn { padding: 0.4rem 0.875rem; background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.25); border-radius: 8px; color: #fff; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; gap: 0.375rem; }
.abm-dd-btn:hover { background: rgba(255,255,255,0.25); }

/* Info Banner */
.abm-dd-info { display: flex; align-items: center; gap: 0.625rem; padding: 0.75rem 1.5rem; background: #EEF2FF; color: #4338CA; font-size: 0.8125rem; border-bottom: 1px solid #E0E7FF; }
.abm-dd-info i { flex-shrink: 0; }

/* Search */
.abm-dd-search { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; border-bottom: 1px solid #E5E7EB; position: relative; }
.abm-dd-search > i { color: #9CA3AF; }
.abm-dd-search input { flex: 1; border: none; outline: none; font-size: 0.875rem; color: #374151; }
.abm-dd-search button { background: none; border: none; color: #9CA3AF; cursor: pointer; }

/* TBM Cards */
.abm-dd-list { padding: 0.75rem; display: flex; flex-direction: column; gap: 0.75rem; }
.abm-dd-tbm-card { border: 1px solid #E5E7EB; border-radius: 12px; overflow: hidden; transition: all 0.2s; }
.abm-dd-tbm-card.expanded { border-color: #C7D2FE; box-shadow: 0 2px 12px rgba(79,70,229,0.1); }
.abm-dd-tbm-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.25rem; cursor: pointer; transition: background 0.15s; }
.abm-dd-tbm-header:hover { background: #F9FAFB; }
.abm-dd-tbm-left { display: flex; align-items: center; gap: 0.75rem; }
.abm-dd-chevron { font-size: 0.6875rem; color: #9CA3AF; width: 14px; transition: transform 0.2s; }
.abm-dd-tbm-avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #4F46E5, #6366F1); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.8125rem; font-weight: 700; flex-shrink: 0; }
.abm-dd-tbm-name { font-size: 0.9375rem; font-weight: 700; color: #1F2937; display: block; }
.abm-dd-tbm-territory { font-size: 0.75rem; color: #6B7280; display: flex; align-items: center; gap: 4px; }
.abm-dd-tbm-stats { display: flex; gap: 1.5rem; }
.abm-dd-mini-stat { text-align: center; }
.abm-dd-mini-label { font-size: 0.625rem; color: #9CA3AF; display: block; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600; }
.abm-dd-mini-value { font-size: 0.9375rem; font-weight: 700; color: #1F2937; display: block; }
.abm-dd-mini-value.positive { color: #059669; }
.abm-dd-mini-value.negative { color: #DC2626; }

/* Sales Rep Cards */
.abm-dd-reps-container { padding: 0 1rem 1rem; display: flex; flex-direction: column; gap: 0.5rem; border-top: 1px solid #F1F5F9; background: #FAFBFF; }
.abm-dd-rep-card { border: 1px solid #E5E7EB; border-radius: 10px; background: #fff; overflow: hidden; margin-top: 0.5rem; }
.abm-dd-rep-card.expanded { border-color: #C7D2FE; }
.abm-dd-rep-header { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 1rem; cursor: pointer; transition: background 0.15s; }
.abm-dd-rep-header:hover { background: #F9FAFB; }
.abm-dd-rep-left { display: flex; align-items: center; gap: 0.625rem; }
.abm-dd-chevron-sm { font-size: 0.5625rem; color: #9CA3AF; width: 12px; }
.abm-dd-rep-avatar { width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #10B981, #059669); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.6875rem; font-weight: 700; flex-shrink: 0; }
.abm-dd-rep-name { font-size: 0.8125rem; font-weight: 600; color: #1F2937; display: block; }
.abm-dd-rep-territory { font-size: 0.6875rem; color: #9CA3AF; }
.abm-dd-rep-stats { display: flex; align-items: center; gap: 1rem; }
.abm-dd-rep-metric { font-size: 0.8125rem; font-weight: 600; color: #374151; }
.abm-dd-rep-growth { font-size: 0.8125rem; font-weight: 700; padding: 2px 8px; border-radius: 6px; }
.abm-dd-rep-growth.positive { background: #D1FAE5; color: #059669; }
.abm-dd-rep-growth.negative { background: #FEE2E2; color: #DC2626; }

/* Product Table (Read-Only) */
.abm-dd-products-table { padding: 0.5rem; overflow-x: auto; border-top: 1px solid #F1F5F9; background: #FAFBFC; }
.abm-dd-products-table table { width: 100%; border-collapse: collapse; font-size: 0.75rem; min-width: 900px; }
.abm-dd-products-table th { padding: 0.5rem 0.375rem; background: #F1F5F9; color: #4B5563; font-weight: 700; font-size: 0.625rem; text-transform: uppercase; letter-spacing: 0.05em; text-align: center; border-bottom: 1px solid #E5E7EB; }
.abm-dd-th-product { text-align: left !important; min-width: 160px; }
.abm-dd-th-type { width: 36px; }
.abm-dd-th-month { width: auto; }
.abm-dd-q1 { color: #3B82F6; }
.abm-dd-q2 { color: #22C55E; }
.abm-dd-q3 { color: #F59E0B; }
.abm-dd-q4 { color: #EF4444; }
.abm-dd-products-table td { padding: 0.375rem; text-align: center; border-bottom: 1px solid #F1F5F9; font-family: 'JetBrains Mono', monospace; font-size: 0.75rem; }
.abm-dd-td-product { text-align: left !important; font-family: 'Inter', sans-serif; font-weight: 600; color: #374151; }
.abm-dd-td-type { font-weight: 600; font-family: 'Inter', sans-serif; }
.abm-dd-td-type.ly { color: #9CA3AF; }
.abm-dd-td-type.cy { color: #4F46E5; }
.abm-dd-td-val.ly { color: #9CA3AF; }
.abm-dd-td-val.cy { color: #1F2937; font-weight: 600; }
.abm-dd-td-total { font-weight: 700; }
.abm-dd-td-total.ly { color: #9CA3AF; }
.abm-dd-td-total.cy { color: #4F46E5; }
.abm-dd-ly-row { background: #FAFBFC; }
.abm-dd-cy-row { background: #fff; }

@media (max-width: 768px) {
  .abm-dd-tbm-stats { display: none; }
  .abm-dd-rep-stats { flex-wrap: wrap; gap: 0.5rem; }
}
