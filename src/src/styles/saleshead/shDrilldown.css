/**
 * Sales Head Drill-Down Styles — 'sh-dd-' prefix
 * Brand Navy (#0C2340) for ZBM level, cascading professional colors
 * 4-Level: ZBM (Navy) → ABM (Indigo) → TBM (Teal) → Sales Rep (Blue)
 * @version 1.1.0 — Brand-aligned
 */

.sh-dd-container { }
.sh-dd-loading { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 300px; color: #9CA3AF; gap: 1rem; }

/* HEADER */
.sh-dd-header { display: flex; align-items: center; justify-content: space-between; padding: 1.25rem 1.5rem; background: linear-gradient(135deg, #0C2340, #1B2A4A 60%, #0097A7); border-radius: 14px 14px 0 0; color: #fff; flex-wrap: wrap; gap: 1rem; }
.sh-dd-header-left { display: flex; align-items: center; gap: 0.75rem; }
.sh-dd-icon { width: 44px; height: 44px; background: rgba(255,255,255,0.15); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; }
.sh-dd-header h2 { margin: 0; font-size: 1.125rem; font-weight: 700; }
.sh-dd-subtitle { font-size: 0.8125rem; opacity: 0.85; display: block; }
.sh-dd-actions { display: flex; gap: 0.5rem; }
.sh-dd-btn { padding: 0.5rem 0.875rem; background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: #fff; font-size: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.15s; display: flex; align-items: center; gap: 0.375rem; }
.sh-dd-btn:hover { background: rgba(255,255,255,0.25); }

.sh-dd-info { display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 1.5rem; background: #E8F4F8; color: #0C2340; font-size: 0.8125rem; border-bottom: 1px solid #B2EBF2; }
.sh-dd-info i { font-size: 1rem; }

.sh-dd-search { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: #fff; border-bottom: 1px solid #E5E7EB; }
.sh-dd-search i { color: #9CA3AF; }
.sh-dd-search input { flex: 1; border: none; outline: none; font-size: 0.875rem; color: #374151; }
.sh-dd-search button { background: none; border: none; cursor: pointer; color: #9CA3AF; padding: 4px; }

.sh-dd-list { background: #fff; border-radius: 0 0 14px 14px; border: 1px solid #E5E7EB; border-top: none; }

/* LEVEL 1: ZBM */
.sh-dd-zbm-card { border-bottom: 1px solid #E5E7EB; }
.sh-dd-zbm-card:last-child { border-bottom: none; }
.sh-dd-zbm-card.expanded { background: rgba(232,244,248,0.3); }
.sh-dd-zbm-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.25rem; cursor: pointer; transition: background 0.15s; }
.sh-dd-zbm-header:hover { background: rgba(232,244,248,0.5); }
.sh-dd-zbm-left { display: flex; align-items: center; gap: 0.75rem; }
.sh-dd-zbm-avatar { width: 42px; height: 42px; border-radius: 50%; background: linear-gradient(135deg, #0C2340, #1A3A5C); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.8125rem; font-weight: 700; flex-shrink: 0; }
.sh-dd-zbm-name { font-size: 1rem; font-weight: 700; color: #1F2937; display: block; }
.sh-dd-zbm-territory { font-size: 0.75rem; color: #6B7280; display: flex; align-items: center; gap: 4px; }
.sh-dd-zbm-stats { display: flex; gap: 1.5rem; }
.sh-dd-zbm-body { padding: 0.5rem 0.75rem 0.75rem 2rem; }

/* LEVEL 2: ABM */
.sh-dd-abm-card { border: 1px solid #EEF2FF; border-radius: 10px; margin-bottom: 0.5rem; overflow: hidden; transition: all 0.2s; }
.sh-dd-abm-card.expanded { border-color: #C7D2FE; box-shadow: 0 2px 8px rgba(79,70,229,0.08); }
.sh-dd-abm-header { display: flex; justify-content: space-between; align-items: center; padding: 0.875rem 1rem; cursor: pointer; transition: background 0.15s; }
.sh-dd-abm-header:hover { background: #EEF2FF; }
.sh-dd-abm-left { display: flex; align-items: center; gap: 0.75rem; }
.sh-dd-abm-avatar { width: 38px; height: 38px; border-radius: 50%; background: linear-gradient(135deg, #4F46E5, #6366F1); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 700; flex-shrink: 0; }
.sh-dd-abm-name { font-size: 0.9375rem; font-weight: 700; color: #1F2937; display: block; }
.sh-dd-abm-territory { font-size: 0.6875rem; color: #6B7280; display: flex; align-items: center; gap: 4px; }
.sh-dd-abm-stats { display: flex; gap: 1.25rem; }
.sh-dd-abm-body { padding: 0.5rem 0.5rem 0.5rem 1.5rem; }

/* LEVEL 3: TBM */
.sh-dd-tbm-card { border: 1px solid #E0F2F1; border-radius: 8px; margin-bottom: 0.5rem; overflow: hidden; transition: all 0.2s; }
.sh-dd-tbm-card.expanded { border-color: #80CBC4; box-shadow: 0 1px 6px rgba(0,151,167,0.1); }
.sh-dd-tbm-header { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0.875rem; cursor: pointer; transition: background 0.15s; }
.sh-dd-tbm-header:hover { background: #E0F2F1; }
.sh-dd-tbm-left { display: flex; align-items: center; gap: 0.625rem; }
.sh-dd-tbm-avatar { width: 34px; height: 34px; border-radius: 50%; background: linear-gradient(135deg, #0097A7, #26C6DA); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.6875rem; font-weight: 700; flex-shrink: 0; }
.sh-dd-tbm-name { font-size: 0.875rem; font-weight: 700; color: #1F2937; display: block; }
.sh-dd-tbm-territory { font-size: 0.625rem; color: #6B7280; display: flex; align-items: center; gap: 4px; }
.sh-dd-tbm-stats { display: flex; gap: 1rem; }
.sh-dd-tbm-body { padding: 0.5rem 0.5rem 0.5rem 1.25rem; }

/* LEVEL 4: SALES REP */
.sh-dd-rep-card { border: 1px solid #F3F4F6; border-radius: 8px; overflow: hidden; transition: all 0.2s; margin-bottom: 0.5rem; }
.sh-dd-rep-card.expanded { border-color: #BFDBFE; box-shadow: 0 1px 6px rgba(59,130,246,0.08); }
.sh-dd-rep-header { display: flex; justify-content: space-between; align-items: center; padding: 0.625rem 0.75rem; cursor: pointer; transition: background 0.15s; }
.sh-dd-rep-header:hover { background: #F9FAFB; }
.sh-dd-rep-left { display: flex; align-items: center; gap: 0.5rem; }
.sh-dd-rep-avatar { width: 30px; height: 30px; border-radius: 50%; background: linear-gradient(135deg, #3B82F6, #93C5FD); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.625rem; font-weight: 700; flex-shrink: 0; }
.sh-dd-rep-name { font-size: 0.8125rem; font-weight: 600; color: #374151; display: block; }
.sh-dd-rep-territory { font-size: 0.625rem; color: #9CA3AF; display: flex; align-items: center; gap: 4px; }
.sh-dd-rep-stats { display: flex; gap: 0.875rem; }

/* SHARED MINI STATS */
.sh-dd-chevron { font-size: 0.6875rem; color: #9CA3AF; width: 14px; transition: transform 0.2s; }
.sh-dd-mini-stat { text-align: center; }
.sh-dd-mini-label { font-size: 0.5625rem; color: #9CA3AF; display: block; text-transform: uppercase; letter-spacing: 0.05em; }
.sh-dd-mini-value { font-size: 0.8125rem; font-weight: 700; color: #1F2937; display: block; }
.sh-dd-mini-value.positive { color: #059669; }
.sh-dd-mini-value.negative { color: #DC2626; }

/* PRODUCT TABLE */
.sh-dd-products-wrapper { padding: 0.5rem 0.75rem 0.75rem; overflow-x: auto; }
.sh-dd-product-table { width: 100%; border-collapse: collapse; font-size: 0.6875rem; }
.sh-dd-product-table th { background: #F9FAFB; padding: 0.375rem 0.25rem; font-weight: 600; color: #6B7280; text-align: center; font-size: 0.5625rem; text-transform: uppercase; border-bottom: 1px solid #E5E7EB; }
.sh-dd-th-product { text-align: left !important; min-width: 110px; }
.sh-dd-product-table td { padding: 0.25rem 0.25rem; text-align: center; border-bottom: 1px solid #F3F4F6; }
.sh-dd-td-product { text-align: left !important; font-weight: 600; color: #374151; font-size: 0.6875rem; }
.sh-dd-td-type { font-weight: 700; font-size: 0.5625rem; }
.sh-dd-td-type.ly { color: #9CA3AF; }
.sh-dd-td-type.cy { color: #0097A7; }
.sh-dd-td-val.ly { color: #9CA3AF; }
.sh-dd-td-val.cy { color: #374151; font-weight: 600; }
.sh-dd-td-total { font-weight: 700; }
.sh-dd-td-total.ly { color: #6B7280; }
.sh-dd-td-total.cy { color: #0C2340; }
.sh-dd-ly-row { background: rgba(249,250,251,0.5); }
.sh-dd-cy-row { background: rgba(232,244,248,0.3); }

/* RESPONSIVE */
@media (max-width: 900px) { .sh-dd-zbm-stats,.sh-dd-abm-stats,.sh-dd-tbm-stats,.sh-dd-rep-stats { gap: 0.75rem; } .sh-dd-mini-value { font-size: 0.75rem; } .sh-dd-zbm-body { padding-left: 1rem; } .sh-dd-abm-body { padding-left: 0.75rem; } .sh-dd-tbm-body { padding-left: 0.75rem; } }
@media (max-width: 600px) { .sh-dd-zbm-header,.sh-dd-abm-header,.sh-dd-tbm-header,.sh-dd-rep-header { flex-direction: column; align-items: flex-start; gap: 0.5rem; } .sh-dd-zbm-stats,.sh-dd-abm-stats,.sh-dd-tbm-stats,.sh-dd-rep-stats { flex-wrap: wrap; } .sh-dd-header { flex-direction: column; align-items: flex-start; } }
